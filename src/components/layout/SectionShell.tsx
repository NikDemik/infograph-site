'use client';

import Image from 'next/image';
import { motion } from 'framer-motion';

export function SectionShell({ children }: { children: React.ReactNode }) {
    return (
        <section className="relative mt-32 overflow-visible">
            {/* ФОНОВЫЕ ОБЪЕКТЫ */}

            {/* Добавляем общий контейнер для всех фоновых элементов с overflow-x-hidden */}
            <div className="absolute inset-0 -z-20">
                {/* Линии №1 на всю ширину без полей */}
                <div className="hidden md:block absolute -z-20 pointer-events-none top-[90vh] w-[99vw] -left-[10vw] right-0">
                    <svg
                        width="100%"
                        height="auto"
                        viewBox="0 0 1811 1794"
                        fill="none"
                        preserveAspectRatio="xMidYMid meet"
                        xmlns="http://www.w3.org/2000/svg"
                    >
                        <path
                            d="M1681.13 700.131C1990.14 199.101 1718.69 -124.999 1162.72 46.161C1080.64 64.441 989.78 64.461 917.68 112.061C869.84 145.971 806.08 249.041 882.12 288.621C962.09 321.311 1051.65 279.811 1129.32 257.351C1283.73 189.801 1473.29 203.151 1481.94 409.001C1486.48 568.421 1402.31 727.941 1275.45 822.951C1193.18 889.171 1030.09 932.421 972.11 815.311C903.98 642.741 1199.09 498.961 1149.35 388.911C1131.71 354.871 1089.04 346.721 1054.13 346.631C831.16 355.101 684.13 553.821 494.86 645.041C435.77 677.631 293.69 724.731 341.29 601.911C391.33 484.701 505.33 412.271 604.07 338.871C819.53 208.651 746.92 72.061 515.51 65.101C339.55 61.071 169.78 118.131 0 156.771L0 230.471C190.66 191.651 385.97 112.251 583.52 145.251C604.94 150.861 654.92 160.931 661.73 184.961C662.71 196.131 647.37 210.161 640.44 217.291C531.86 314.851 394.08 382.711 310.99 506.841C237.42 598.841 233.42 761.271 386.48 753.711C451.21 749.471 513.37 718.861 568.71 687.091C718.79 606.821 902.97 397.421 1081.75 422.271C1085.34 427.911 1063.87 450.981 1060.22 455.481C1049.35 468.861 1037.83 481.701 1026.53 494.721C928.72 600.061 821.25 781.921 948.86 905.111C1290.88 1144.16 1714.47 526.181 1493.46 233.761C1322.78 44.011 1122.29 222.571 930.13 227.551C908.39 229.511 933.14 197.521 937.9 191.451C985.97 130.381 1127.47 132.461 1203.27 111.701C1332.1 89.701 1470.24 44.831 1597.81 94.191C1795.74 177.261 1752.7 432.581 1662.6 582.601C1600.08 694.431 1522.4 823.341 1581.92 952.651C1638 1064.96 1707.28 1203.85 1613.5 1316.54C1604.13 1328.65 1593.63 1339.87 1582.36 1350.23C1580.58 1351.86 1571.47 1362.25 1568.32 1361.67C1561.01 1076.88 1162.68 1077.2 1179.56 1332.34C1206.49 1455.1 1354.13 1509 1467.32 1488.47C1469.68 1490.92 1456.06 1512.65 1454.39 1515.67C1437.96 1545.25 1417.59 1572.58 1394.46 1597.26C1242.98 1771.87 953.64 1781.33 978.46 1490.39C1008.29 1266.42 1044.05 914.561 707.59 968.851C677.68 978.711 692.3 970.771 678.33 936.151C660.4 884.731 621.73 839.291 569.52 820.821C471.39 785.941 321.67 851.941 321.53 966.181C337.52 1087.78 492.92 1096.76 588.21 1072.69C619.43 1063.05 618.67 1062.57 607.25 1094.04C571.89 1196.44 473.7 1278.08 364.2 1285.07C262.56 1293.86 257.29 1206.58 257.19 1129.2C253.3 941.641 203.34 711.811 0.02 650.531L0.02 727.141C6.31 728.771 15.48 734.911 19.41 736.861C79.71 764.691 120.49 821.031 142.43 882.241C212.36 1016 136.78 1266.99 269.66 1338.2C458.62 1416.99 672.37 1234.86 691.69 1046.94C840.47 998.021 919.61 1080.34 926.36 1226.99C934.47 1384.39 852.38 1572.3 963.08 1709.76C1059.7 1829.38 1239.95 1808.79 1353.69 1725.54C1450.62 1662.56 1523.7 1565.69 1557.31 1455.91C1771.68 1332.89 1766.13 1137.46 1655.67 941.461C1611.72 862.371 1638.66 773.541 1681.15 700.121L1681.13 700.131ZM617.41 990.911C613.94 996.481 588.89 998.671 582.45 1000.15C556.6 1006.1 529.76 1011.41 503.12 1011.5C419.41 1016.43 339 959.981 443.41 902.021C507.35 862.941 588.98 887.841 610.76 961.761C612.65 967.231 620.73 985.571 617.4 990.921L617.41 990.911ZM1454.55 1416.97C1339.79 1448.93 1154.72 1321.02 1305.94 1227.54C1400.48 1180.98 1503.94 1270.11 1495.27 1369.25C1498.18 1410.52 1493.75 1410.84 1454.55 1416.97Z"
                            fill="#F3F6FF"
                            fillOpacity="0.5"
                        />
                    </svg>
                </div>

                {/* Линии №2 на всю ширину без полей */}
                <div className="hidden md:block absolute -z-20 pointer-events-none top-[316vh] w-[99vw] -left-[10vw] right-0 ">
                    <svg
                        width="100%"
                        height="auto"
                        viewBox="0 0 1811 1794"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                    >
                        <path
                            d="M129.618 700.131C-179.392 199.101 92.058 -124.999 648.028 46.161C730.108 64.441 820.968 64.461 893.068 112.061C940.908 145.971 1004.67 249.041 928.628 288.621C848.658 321.311 759.098 279.811 681.428 257.351C527.018 189.801 337.458 203.151 328.808 409.001C324.268 568.421 408.438 727.941 535.298 822.951C617.568 889.171 780.658 932.421 838.638 815.311C906.768 642.741 611.658 498.961 661.398 388.911C679.038 354.871 721.708 346.721 756.618 346.631C979.588 355.101 1126.62 553.821 1315.89 645.041C1374.98 677.631 1517.06 724.731 1469.46 601.911C1419.42 484.701 1305.42 412.271 1206.68 338.871C991.218 208.651 1063.83 72.061 1295.24 65.101C1471.2 61.071 1640.97 118.131 1810.75 156.771V230.471C1620.09 191.651 1424.78 112.251 1227.23 145.251C1205.81 150.861 1155.83 160.931 1149.02 184.961C1148.04 196.131 1163.38 210.161 1170.31 217.291C1278.89 314.851 1416.67 382.711 1499.76 506.841C1573.33 598.841 1577.33 761.271 1424.27 753.711C1359.54 749.471 1297.38 718.861 1242.04 687.091C1091.96 606.821 907.778 397.421 728.998 422.271C725.408 427.911 746.878 450.981 750.528 455.481C761.398 468.861 772.918 481.701 784.218 494.721C882.028 600.061 989.498 781.921 861.888 905.111C519.868 1144.16 96.278 526.181 317.288 233.761C487.968 44.011 688.458 222.571 880.618 227.551C902.358 229.511 877.608 197.521 872.848 191.451C824.778 130.381 683.278 132.461 607.478 111.701C478.648 89.701 340.508 44.831 212.938 94.191C15.0079 177.261 58.048 432.581 148.148 582.601C210.668 694.431 288.348 823.341 228.828 952.651C172.748 1064.96 103.468 1203.85 197.248 1316.54C206.618 1328.65 217.118 1339.87 228.388 1350.23C230.168 1351.86 239.278 1362.25 242.428 1361.67C249.738 1076.88 648.068 1077.2 631.188 1332.34C604.258 1455.1 456.618 1509 343.428 1488.47C341.068 1490.92 354.688 1512.65 356.358 1515.67C372.788 1545.25 393.158 1572.58 416.288 1597.26C567.768 1771.87 857.108 1781.33 832.288 1490.39C802.458 1266.42 766.698 914.561 1103.16 968.851C1133.07 978.711 1118.45 970.771 1132.42 936.151C1150.35 884.731 1189.02 839.291 1241.23 820.821C1339.36 785.941 1489.08 851.941 1489.22 966.181C1473.23 1087.78 1317.83 1096.76 1222.54 1072.69C1191.32 1063.05 1192.08 1062.57 1203.5 1094.04C1238.86 1196.44 1337.05 1278.08 1446.55 1285.07C1548.19 1293.86 1553.46 1206.58 1553.56 1129.2C1557.45 941.641 1607.41 711.811 1810.73 650.531V727.141C1804.44 728.771 1795.27 734.911 1791.34 736.861C1731.04 764.691 1690.26 821.031 1668.32 882.241C1598.39 1016 1673.97 1266.99 1541.09 1338.2C1352.13 1416.99 1138.38 1234.86 1119.06 1046.94C970.278 998.021 891.138 1080.34 884.388 1226.99C876.278 1384.39 958.368 1572.3 847.668 1709.76C751.048 1829.38 570.798 1808.79 457.058 1725.54C360.128 1662.56 287.048 1565.69 253.438 1455.91C39.0679 1332.89 44.6179 1137.46 155.078 941.461C199.028 862.371 172.088 773.541 129.598 700.121L129.618 700.131ZM1193.34 990.911C1196.81 996.481 1221.86 998.671 1228.3 1000.15C1254.15 1006.1 1280.99 1011.41 1307.63 1011.5C1391.34 1016.43 1471.75 959.981 1367.34 902.021C1303.4 862.941 1221.77 887.841 1199.99 961.761C1198.1 967.231 1190.02 985.571 1193.35 990.921L1193.34 990.911ZM356.198 1416.97C470.958 1448.93 656.028 1321.02 504.808 1227.54C410.268 1180.98 306.808 1270.11 315.478 1369.25C312.568 1410.52 316.998 1410.84 356.198 1416.97Z"
                            fill="#F3F6FF"
                            fillOpacity="0.5"
                        />
                    </svg>
                </div>

                {/* Линии №3 на всю ширину без полей */}
                <div className="hidden md:block absolute -z-20 pointer-events-none -bottom-[4%] w-[99vw] -left-[10vw] right-0 ">
                    <svg
                        width="100%"
                        height="auto"
                        viewBox="0 0 1794 1563"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                    >
                        <path
                            d="M700.131 129.618C199.101 -179.392 -124.999 92.0581 46.161 648.028C64.441 730.108 64.461 820.968 112.061 893.068C145.971 940.908 249.041 1004.67 288.621 928.628C321.311 848.658 279.811 759.098 257.351 681.428C189.801 527.018 203.151 337.458 409.001 328.808C568.421 324.268 727.941 408.438 822.951 535.298C889.171 617.568 932.421 780.658 815.311 838.638C642.741 906.768 498.961 611.658 388.911 661.398C354.871 679.038 346.721 721.708 346.631 756.618C355.101 979.588 553.821 1126.62 645.041 1315.89C677.631 1374.98 724.731 1517.06 601.911 1469.46C484.701 1419.42 412.271 1305.42 338.871 1206.68C208.651 991.218 72.061 1063.83 65.101 1295.24C61.071 1471.2 118.131 1640.97 156.771 1810.75L230.471 1810.75C191.651 1620.09 112.251 1424.78 145.251 1227.23C150.861 1205.81 160.931 1155.83 184.961 1149.02C196.131 1148.04 210.161 1163.38 217.291 1170.31C314.851 1278.89 382.711 1416.67 506.841 1499.76C598.841 1573.33 761.271 1577.33 753.711 1424.27C749.471 1359.54 718.861 1297.38 687.091 1242.04C606.821 1091.96 397.421 907.778 422.271 728.998C427.911 725.408 450.981 746.878 455.481 750.528C468.861 761.398 481.701 772.918 494.721 784.218C600.061 882.028 781.921 989.498 905.111 861.888C1144.16 519.868 526.181 96.2781 233.761 317.288C44.011 487.968 222.571 688.458 227.551 880.618C229.511 902.358 197.521 877.608 191.451 872.848C130.381 824.778 132.461 683.278 111.701 607.478C89.701 478.648 44.831 340.508 94.191 212.938C177.261 15.0081 432.581 58.0481 582.601 148.148C694.431 210.668 823.341 288.348 952.651 228.828C1064.96 172.748 1203.85 103.468 1316.54 197.248C1328.65 206.618 1339.87 217.118 1350.23 228.388C1351.86 230.168 1362.25 239.278 1361.67 242.428C1076.88 249.738 1077.2 648.068 1332.34 631.188C1455.1 604.258 1509 456.618 1488.47 343.428C1490.92 341.068 1512.65 354.688 1515.67 356.358C1545.25 372.788 1572.58 393.158 1597.26 416.288C1771.87 567.768 1781.33 857.108 1490.39 832.288C1266.42 802.458 914.561 766.698 968.851 1103.16C978.711 1133.07 970.771 1118.45 936.151 1132.42C884.731 1150.35 839.291 1189.02 820.821 1241.23C785.941 1339.36 851.941 1489.08 966.181 1489.22C1087.78 1473.23 1096.76 1317.83 1072.69 1222.54C1063.05 1191.32 1062.57 1192.08 1094.04 1203.5C1196.44 1238.86 1278.08 1337.05 1285.07 1446.55C1293.86 1548.19 1206.58 1553.46 1129.2 1553.56C941.641 1557.45 711.811 1607.41 650.531 1810.73L727.141 1810.73C728.771 1804.44 734.911 1795.27 736.861 1791.34C764.691 1731.04 821.031 1690.26 882.241 1668.32C1016 1598.39 1266.99 1673.97 1338.2 1541.09C1416.99 1352.13 1234.86 1138.38 1046.94 1119.06C998.021 970.278 1080.34 891.138 1226.99 884.388C1384.39 876.278 1572.3 958.368 1709.76 847.668C1829.38 751.048 1808.79 570.798 1725.54 457.058C1662.56 360.128 1565.69 287.048 1455.91 253.438C1332.89 39.068 1137.46 44.6181 941.461 155.078C862.371 199.028 773.541 172.088 700.121 129.598L700.131 129.618ZM990.911 1193.34C996.481 1196.81 998.671 1221.86 1000.15 1228.3C1006.1 1254.15 1011.41 1280.99 1011.5 1307.63C1016.43 1391.34 959.981 1471.75 902.021 1367.34C862.941 1303.4 887.841 1221.77 961.761 1199.99C967.231 1198.1 985.571 1190.02 990.921 1193.35L990.911 1193.34ZM1416.97 356.198C1448.93 470.958 1321.02 656.028 1227.54 504.808C1180.98 410.268 1270.11 306.808 1369.25 315.478C1410.52 312.568 1410.84 316.998 1416.97 356.198Z"
                            fill="#F3F6FF"
                            fillOpacity="0.5"
                        />
                    </svg>
                </div>
            </div>

            <div className="absolute hidden md:block inset-0 -z-10 pointer-events-none">
                {/* Объект 1 — синяя звезда */}
                <motion.div
                    animate={{
                        y: [0, -100, 0],
                        x: [0, 0, 0],
                        scale: [1, 0.6, 1], // Плавное приближение-отдаление
                        rotate: [0, 120, 0],
                    }}
                    transition={{
                        duration: 200,
                        repeat: Infinity,
                        ease: 'easeInOut',
                    }}
                >
                    <Image
                        src="/img/blue-star.png"
                        width={566}
                        height={566}
                        alt="Картинка фона синяя звезда"
                        className="
                        hidden 
                        md:block
                        absolute
                        top-[40vh]
                        -right-[max(16px,calc((100vw-1530px)/2-60px))]
                        w-[clamp(260px,28vw,420px)]
                        h-auto
                    "
                    />
                </motion.div>

                {/* Объект 2 — второй элемент выше */}
                <motion.div
                    animate={{
                        y: [-15, 15, -15],
                        x: [0, 8, 0],
                        scale: [1, 1.05, 1], // Более заметное изменение масштаба
                    }}
                    transition={{
                        duration: 20,
                        repeat: Infinity,
                        ease: 'easeInOut',
                        delay: 3,
                    }}
                >
                    <Image
                        src="/img/yellow-star.png"
                        width={555}
                        height={555}
                        alt="Картинка фона желтая звезда"
                        className="
                        hidden 
                        md:block
                        absolute
                        top-[160vh]
                        -left-[max(16px,calc((100vw-1530px)/2-60px))]
                        w-[clamp(260px,28vw,420px)]
                        h-auto
                    "
                    />
                </motion.div>
            </div>

            {/* КОНТЕНТ */}
            <div className="relative z-10">{children}</div>
        </section>
    );
}
