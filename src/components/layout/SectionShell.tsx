'use client';

import Image from 'next/image';
import { motion } from 'framer-motion';

export function SectionShell({ children }: { children: React.ReactNode }) {
    return (
        <section className="relative overflow-visible mt-32">
            {/* ФОНОВЫЕ ОБЪЕКТЫ */}
            {/* SVG на всю ширину без полей */}
            <div className="absolute -z-10 pointer-events-none top-[90vh] w-screen -left-[10vw] right-0 ">
                <svg
                    width="100%"
                    height="auto"
                    viewBox="0 0 1811 1794"
                    fill="none"
                    preserveAspectRatio="xMidYMid meet"
                    xmlns="http://www.w3.org/2000/svg"
                    className="hidden 
                        md:block w-full h-auto"
                >
                    <path
                        d="M1681.13 700.131C1990.14 199.101 1718.69 -124.999 1162.72 46.161C1080.64 64.441 989.78 64.461 917.68 112.061C869.84 145.971 806.08 249.041 882.12 288.621C962.09 321.311 1051.65 279.811 1129.32 257.351C1283.73 189.801 1473.29 203.151 1481.94 409.001C1486.48 568.421 1402.31 727.941 1275.45 822.951C1193.18 889.171 1030.09 932.421 972.11 815.311C903.98 642.741 1199.09 498.961 1149.35 388.911C1131.71 354.871 1089.04 346.721 1054.13 346.631C831.16 355.101 684.13 553.821 494.86 645.041C435.77 677.631 293.69 724.731 341.29 601.911C391.33 484.701 505.33 412.271 604.07 338.871C819.53 208.651 746.92 72.061 515.51 65.101C339.55 61.071 169.78 118.131 0 156.771L0 230.471C190.66 191.651 385.97 112.251 583.52 145.251C604.94 150.861 654.92 160.931 661.73 184.961C662.71 196.131 647.37 210.161 640.44 217.291C531.86 314.851 394.08 382.711 310.99 506.841C237.42 598.841 233.42 761.271 386.48 753.711C451.21 749.471 513.37 718.861 568.71 687.091C718.79 606.821 902.97 397.421 1081.75 422.271C1085.34 427.911 1063.87 450.981 1060.22 455.481C1049.35 468.861 1037.83 481.701 1026.53 494.721C928.72 600.061 821.25 781.921 948.86 905.111C1290.88 1144.16 1714.47 526.181 1493.46 233.761C1322.78 44.011 1122.29 222.571 930.13 227.551C908.39 229.511 933.14 197.521 937.9 191.451C985.97 130.381 1127.47 132.461 1203.27 111.701C1332.1 89.701 1470.24 44.831 1597.81 94.191C1795.74 177.261 1752.7 432.581 1662.6 582.601C1600.08 694.431 1522.4 823.341 1581.92 952.651C1638 1064.96 1707.28 1203.85 1613.5 1316.54C1604.13 1328.65 1593.63 1339.87 1582.36 1350.23C1580.58 1351.86 1571.47 1362.25 1568.32 1361.67C1561.01 1076.88 1162.68 1077.2 1179.56 1332.34C1206.49 1455.1 1354.13 1509 1467.32 1488.47C1469.68 1490.92 1456.06 1512.65 1454.39 1515.67C1437.96 1545.25 1417.59 1572.58 1394.46 1597.26C1242.98 1771.87 953.64 1781.33 978.46 1490.39C1008.29 1266.42 1044.05 914.561 707.59 968.851C677.68 978.711 692.3 970.771 678.33 936.151C660.4 884.731 621.73 839.291 569.52 820.821C471.39 785.941 321.67 851.941 321.53 966.181C337.52 1087.78 492.92 1096.76 588.21 1072.69C619.43 1063.05 618.67 1062.57 607.25 1094.04C571.89 1196.44 473.7 1278.08 364.2 1285.07C262.56 1293.86 257.29 1206.58 257.19 1129.2C253.3 941.641 203.34 711.811 0.02 650.531L0.02 727.141C6.31 728.771 15.48 734.911 19.41 736.861C79.71 764.691 120.49 821.031 142.43 882.241C212.36 1016 136.78 1266.99 269.66 1338.2C458.62 1416.99 672.37 1234.86 691.69 1046.94C840.47 998.021 919.61 1080.34 926.36 1226.99C934.47 1384.39 852.38 1572.3 963.08 1709.76C1059.7 1829.38 1239.95 1808.79 1353.69 1725.54C1450.62 1662.56 1523.7 1565.69 1557.31 1455.91C1771.68 1332.89 1766.13 1137.46 1655.67 941.461C1611.72 862.371 1638.66 773.541 1681.15 700.121L1681.13 700.131ZM617.41 990.911C613.94 996.481 588.89 998.671 582.45 1000.15C556.6 1006.1 529.76 1011.41 503.12 1011.5C419.41 1016.43 339 959.981 443.41 902.021C507.35 862.941 588.98 887.841 610.76 961.761C612.65 967.231 620.73 985.571 617.4 990.921L617.41 990.911ZM1454.55 1416.97C1339.79 1448.93 1154.72 1321.02 1305.94 1227.54C1400.48 1180.98 1503.94 1270.11 1495.27 1369.25C1498.18 1410.52 1493.75 1410.84 1454.55 1416.97Z"
                        fill="#F3F6FF"
                        fillOpacity="0.5"
                    />
                </svg>
            </div>
            <div className="absolute inset-0 -z-10 pointer-events-none">
                {/* Объект 1 — синяя звезда */}
                <motion.div
                    animate={{
                        y: [0, -100, 0],
                        x: [0, 0, 0],
                        scale: [1, 0.6, 1], // Плавное приближение-отдаление
                        rotate: [0, 120, 0],
                    }}
                    transition={{
                        duration: 200,
                        repeat: Infinity,
                        ease: 'easeInOut',
                    }}
                >
                    <Image
                        src="/img/blue-star.png"
                        width={566}
                        height={566}
                        alt="Картинка фона синяя звезда"
                        className="
                        hidden 
                        md:block
                        absolute
                        top-[40vh]
                        -right-[max(16px,calc((100vw-1530px)/2-60px))]
                        w-[clamp(260px,28vw,420px)]
                        h-auto
                    "
                    />
                </motion.div>

                {/* Объект 2 — второй элемент выше */}
                <motion.div
                    animate={{
                        y: [-15, 15, -15],
                        x: [0, 8, 0],
                        scale: [1, 1.05, 1], // Более заметное изменение масштаба
                    }}
                    transition={{
                        duration: 20,
                        repeat: Infinity,
                        ease: 'easeInOut',
                        delay: 3,
                    }}
                >
                    <Image
                        src="/img/yellow-star.png"
                        width={555}
                        height={555}
                        alt="Картинка фона желтая звезда"
                        className="
                        hidden 
                        md:block
                        absolute
                        top-[160vh]
                        -left-[max(16px,calc((100vw-1530px)/2-60px))]
                        w-[clamp(260px,28vw,420px)]
                        h-auto
                    "
                    />
                </motion.div>
            </div>

            {/* КОНТЕНТ */}
            <div className="relative z-10">{children}</div>
        </section>
    );
}
